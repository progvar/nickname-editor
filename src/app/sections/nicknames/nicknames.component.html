<mat-card>
    <mat-card-content>
        <form #nicknameForm>
            <mat-form-field>
                <mat-label>Nickname..</mat-label>
                <input
                    matInput
                    [formControl]="nicknameInput"
                    autocomplete="off"
                />
                <mat-spinner
                    matSuffix
                    *ngIf="nicknameInput.pending"
                    diameter="24"
                ></mat-spinner>
                <mat-hint>Hint: nicknames should start with 'a'</mat-hint>
                <mat-error>Invalid nickname</mat-error>
            </mat-form-field>
        </form>
    </mat-card-content>

    <mat-card-actions>
        <button
            id="add-btn"
            type="submit"
            mat-raised-button
            color="accent"
            [disabled]="!nicknameInput.valid"
            #addBtn
        >
            Add
        </button>
        <button
            id="save-btn"
            type="button"
            mat-raised-button
            color="primary"
            [disabled]="!(nicknames$ | async)?.length"
            #saveBtn
        >
            Save
        </button>
    </mat-card-actions>
</mat-card>

<h2 *ngIf="(nicknames$ | async)?.length">Nicknames</h2>

<mat-card *ngFor="let nickname of nicknames$ | async" class="nickname-card">
    <mat-card-header>
        <mat-card-title
            ><h2>
                {{ nickname }}
            </h2>
        </mat-card-title>
    </mat-card-header>
</mat-card>
